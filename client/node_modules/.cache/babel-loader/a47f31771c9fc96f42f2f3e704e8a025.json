{"ast":null,"code":"const chalk = require('chalk');\n\nconst nocolor = {\n  bold: s => s,\n  dim: s => s,\n  red: s => s,\n  yellow: s => s,\n  cyan: s => s,\n  magenta: s => s,\n  blue: s => s,\n  green: s => s\n};\n\nconst {\n  relative\n} = require('path');\n\nconst explainNode = (node, depth, color) => printNode(node, color) + explainDependents(node, depth, color) + explainLinksIn(node, depth, color);\n\nconst colorType = (type, color) => {\n  const {\n    red,\n    yellow,\n    cyan,\n    magenta,\n    blue,\n    green\n  } = color ? chalk : nocolor;\n  const style = type === 'extraneous' ? red : type === 'dev' ? yellow : type === 'optional' ? cyan : type === 'peer' ? magenta : type === 'bundled' ? blue : type === 'workspace' ? green :\n  /* istanbul ignore next */\n  s => s;\n  return style(type);\n};\n\nconst printNode = (node, color) => {\n  const {\n    name,\n    version,\n    location,\n    extraneous,\n    dev,\n    optional,\n    peer,\n    bundled,\n    isWorkspace\n  } = node;\n  const {\n    bold,\n    dim,\n    green\n  } = color ? chalk : nocolor;\n  const extra = [];\n\n  if (extraneous) {\n    extra.push(' ' + bold(colorType('extraneous', color)));\n  }\n\n  if (dev) {\n    extra.push(' ' + bold(colorType('dev', color)));\n  }\n\n  if (optional) {\n    extra.push(' ' + bold(colorType('optional', color)));\n  }\n\n  if (peer) {\n    extra.push(' ' + bold(colorType('peer', color)));\n  }\n\n  if (bundled) {\n    extra.push(' ' + bold(colorType('bundled', color)));\n  }\n\n  const pkgid = isWorkspace ? green(`${name}@${version}`) : `${bold(name)}@${bold(version)}`;\n  return `${pkgid}${extra.join('')}` + (location ? dim(`\\n${location}`) : '');\n};\n\nconst explainLinksIn = (_ref, depth, color) => {\n  let {\n    linksIn\n  } = _ref;\n\n  if (!linksIn || !linksIn.length || depth <= 0) {\n    return '';\n  }\n\n  const messages = linksIn.map(link => explainNode(link, depth - 1, color));\n  const str = '\\n' + messages.join('\\n');\n  return str.split('\\n').join('\\n  ');\n};\n\nconst explainDependents = (_ref2, depth, color) => {\n  let {\n    name,\n    dependents\n  } = _ref2;\n\n  if (!dependents || !dependents.length || depth <= 0) {\n    return '';\n  }\n\n  const max = Math.ceil(depth / 2);\n  const messages = dependents.slice(0, max).map(edge => explainEdge(edge, depth, color)); // show just the names of the first 5 deps that overflowed the list\n\n  if (dependents.length > max) {\n    let len = 0;\n    const maxLen = 50;\n    const showNames = [];\n\n    for (let i = max; i < dependents.length; i++) {\n      const {\n        from: {\n          name = 'the root project'\n        }\n      } = dependents[i];\n      len += name.length;\n\n      if (len >= maxLen && i < dependents.length - 1) {\n        showNames.push('...');\n        break;\n      }\n\n      showNames.push(name);\n    }\n\n    const show = `(${showNames.join(', ')})`;\n    messages.push(`${dependents.length - max} more ${show}`);\n  }\n\n  const str = '\\n' + messages.join('\\n');\n  return str.split('\\n').join('\\n  ');\n};\n\nconst explainEdge = (_ref3, depth, color) => {\n  let {\n    name,\n    type,\n    bundled,\n    from,\n    spec\n  } = _ref3;\n  const {\n    bold\n  } = color ? chalk : nocolor;\n  const dep = type === 'workspace' ? bold(relative(from.location, spec.slice('file:'.length))) : `${bold(name)}@\"${bold(spec)}\"`;\n  const fromMsg = ` from ${explainFrom(from, depth, color)}`;\n  return (type === 'prod' ? '' : `${colorType(type, color)} `) + (bundled ? `${colorType('bundled', color)} ` : '') + `${dep}${fromMsg}`;\n};\n\nconst explainFrom = (from, depth, color) => {\n  if (!from.name && !from.version) {\n    return 'the root project';\n  }\n\n  return printNode(from, color) + explainDependents(from, depth - 1, color) + explainLinksIn(from, depth - 1, color);\n};\n\nmodule.exports = {\n  explainNode,\n  printNode,\n  explainEdge\n};","map":{"version":3,"names":["chalk","require","nocolor","bold","s","dim","red","yellow","cyan","magenta","blue","green","relative","explainNode","node","depth","color","printNode","explainDependents","explainLinksIn","colorType","type","style","name","version","location","extraneous","dev","optional","peer","bundled","isWorkspace","extra","push","pkgid","join","linksIn","length","messages","map","link","str","split","dependents","max","Math","ceil","slice","edge","explainEdge","len","maxLen","showNames","i","from","show","spec","dep","fromMsg","explainFrom","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/lib/utils/explain-dep.js"],"sourcesContent":["const chalk = require('chalk')\nconst nocolor = {\n  bold: s => s,\n  dim: s => s,\n  red: s => s,\n  yellow: s => s,\n  cyan: s => s,\n  magenta: s => s,\n  blue: s => s,\n  green: s => s,\n}\n\nconst { relative } = require('path')\n\nconst explainNode = (node, depth, color) =>\n  printNode(node, color) +\n  explainDependents(node, depth, color) +\n  explainLinksIn(node, depth, color)\n\nconst colorType = (type, color) => {\n  const { red, yellow, cyan, magenta, blue, green } = color ? chalk : nocolor\n  const style = type === 'extraneous' ? red\n    : type === 'dev' ? yellow\n    : type === 'optional' ? cyan\n    : type === 'peer' ? magenta\n    : type === 'bundled' ? blue\n    : type === 'workspace' ? green\n    : /* istanbul ignore next */ s => s\n  return style(type)\n}\n\nconst printNode = (node, color) => {\n  const {\n    name,\n    version,\n    location,\n    extraneous,\n    dev,\n    optional,\n    peer,\n    bundled,\n    isWorkspace,\n  } = node\n  const { bold, dim, green } = color ? chalk : nocolor\n  const extra = []\n  if (extraneous) {\n    extra.push(' ' + bold(colorType('extraneous', color)))\n  }\n\n  if (dev) {\n    extra.push(' ' + bold(colorType('dev', color)))\n  }\n\n  if (optional) {\n    extra.push(' ' + bold(colorType('optional', color)))\n  }\n\n  if (peer) {\n    extra.push(' ' + bold(colorType('peer', color)))\n  }\n\n  if (bundled) {\n    extra.push(' ' + bold(colorType('bundled', color)))\n  }\n\n  const pkgid = isWorkspace\n    ? green(`${name}@${version}`)\n    : `${bold(name)}@${bold(version)}`\n\n  return `${pkgid}${extra.join('')}` +\n    (location ? dim(`\\n${location}`) : '')\n}\n\nconst explainLinksIn = ({ linksIn }, depth, color) => {\n  if (!linksIn || !linksIn.length || depth <= 0) {\n    return ''\n  }\n\n  const messages = linksIn.map(link => explainNode(link, depth - 1, color))\n  const str = '\\n' + messages.join('\\n')\n  return str.split('\\n').join('\\n  ')\n}\n\nconst explainDependents = ({ name, dependents }, depth, color) => {\n  if (!dependents || !dependents.length || depth <= 0) {\n    return ''\n  }\n\n  const max = Math.ceil(depth / 2)\n  const messages = dependents.slice(0, max)\n    .map(edge => explainEdge(edge, depth, color))\n\n  // show just the names of the first 5 deps that overflowed the list\n  if (dependents.length > max) {\n    let len = 0\n    const maxLen = 50\n    const showNames = []\n    for (let i = max; i < dependents.length; i++) {\n      const { from: { name = 'the root project' } } = dependents[i]\n      len += name.length\n      if (len >= maxLen && i < dependents.length - 1) {\n        showNames.push('...')\n        break\n      }\n      showNames.push(name)\n    }\n    const show = `(${showNames.join(', ')})`\n    messages.push(`${dependents.length - max} more ${show}`)\n  }\n\n  const str = '\\n' + messages.join('\\n')\n  return str.split('\\n').join('\\n  ')\n}\n\nconst explainEdge = ({ name, type, bundled, from, spec }, depth, color) => {\n  const { bold } = color ? chalk : nocolor\n  const dep = type === 'workspace'\n    ? bold(relative(from.location, spec.slice('file:'.length)))\n    : `${bold(name)}@\"${bold(spec)}\"`\n  const fromMsg = ` from ${explainFrom(from, depth, color)}`\n\n  return (type === 'prod' ? '' : `${colorType(type, color)} `) +\n    (bundled ? `${colorType('bundled', color)} ` : '') +\n    `${dep}${fromMsg}`\n}\n\nconst explainFrom = (from, depth, color) => {\n  if (!from.name && !from.version) {\n    return 'the root project'\n  }\n\n  return printNode(from, color) +\n    explainDependents(from, depth - 1, color) +\n    explainLinksIn(from, depth - 1, color)\n}\n\nmodule.exports = { explainNode, printNode, explainEdge }\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}