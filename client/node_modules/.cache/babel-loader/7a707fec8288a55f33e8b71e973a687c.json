{"ast":null,"code":"const EventEmitter = require('events');\n\nconst {\n  webAuthCheckLogin\n} = require('npm-profile');\n\nasync function webAuth(opener, initialUrl, doneUrl, opts) {\n  const doneEmitter = new EventEmitter();\n  const openPromise = opener(initialUrl, doneEmitter);\n  const webAuthCheckPromise = webAuthCheckLogin(doneUrl, { ...opts,\n    cache: false\n  }).then(authResult => {\n    // cancel open prompt if it's present\n    doneEmitter.emit('abort');\n    return authResult.token;\n  });\n  await openPromise;\n  return await webAuthCheckPromise;\n}\n\nmodule.exports = webAuth;","map":{"version":3,"names":["EventEmitter","require","webAuthCheckLogin","webAuth","opener","initialUrl","doneUrl","opts","doneEmitter","openPromise","webAuthCheckPromise","cache","then","authResult","emit","token","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/lib/utils/web-auth.js"],"sourcesContent":["const EventEmitter = require('events')\nconst { webAuthCheckLogin } = require('npm-profile')\n\nasync function webAuth (opener, initialUrl, doneUrl, opts) {\n  const doneEmitter = new EventEmitter()\n\n  const openPromise = opener(initialUrl, doneEmitter)\n  const webAuthCheckPromise = webAuthCheckLogin(doneUrl, { ...opts, cache: false })\n    .then(authResult => {\n      // cancel open prompt if it's present\n      doneEmitter.emit('abort')\n\n      return authResult.token\n    })\n\n  await openPromise\n  return await webAuthCheckPromise\n}\n\nmodule.exports = webAuth\n"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAA5B;;AACA,MAAM;EAAEC;AAAF,IAAwBD,OAAO,CAAC,aAAD,CAArC;;AAEA,eAAeE,OAAf,CAAwBC,MAAxB,EAAgCC,UAAhC,EAA4CC,OAA5C,EAAqDC,IAArD,EAA2D;EACzD,MAAMC,WAAW,GAAG,IAAIR,YAAJ,EAApB;EAEA,MAAMS,WAAW,GAAGL,MAAM,CAACC,UAAD,EAAaG,WAAb,CAA1B;EACA,MAAME,mBAAmB,GAAGR,iBAAiB,CAACI,OAAD,EAAU,EAAE,GAAGC,IAAL;IAAWI,KAAK,EAAE;EAAlB,CAAV,CAAjB,CACzBC,IADyB,CACpBC,UAAU,IAAI;IAClB;IACAL,WAAW,CAACM,IAAZ,CAAiB,OAAjB;IAEA,OAAOD,UAAU,CAACE,KAAlB;EACD,CANyB,CAA5B;EAQA,MAAMN,WAAN;EACA,OAAO,MAAMC,mBAAb;AACD;;AAEDM,MAAM,CAACC,OAAP,GAAiBd,OAAjB"},"metadata":{},"sourceType":"script"}