{"ast":null,"code":"const {\n  resolve\n} = require('path');\n\nconst Arborist = require('@npmcli/arborist');\n\nconst rpj = require('read-package-json-fast');\n\nconst reifyFinish = require('../utils/reify-finish.js');\n\nconst completion = require('../utils/completion/installed-shallow.js');\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js');\n\nclass Uninstall extends ArboristWorkspaceCmd {\n  static description = 'Remove a package';\n  static name = 'uninstall';\n  static params = ['save', ...super.params];\n  static usage = ['[<@scope>/]<pkg>...'];\n  static ignoreImplicitWorkspace = false; // TODO\n\n  /* istanbul ignore next */\n\n  async completion(opts) {\n    return completion(this.npm, opts);\n  }\n\n  async exec(args) {\n    // the /path/to/node_modules/..\n    const path = this.npm.global ? resolve(this.npm.globalDir, '..') : this.npm.localPrefix;\n\n    if (!args.length) {\n      if (!this.npm.global) {\n        throw new Error('Must provide a package name to remove');\n      } else {\n        let pkg;\n\n        try {\n          pkg = await rpj(resolve(this.npm.localPrefix, 'package.json'));\n        } catch (er) {\n          if (er.code !== 'ENOENT' && er.code !== 'ENOTDIR') {\n            throw er;\n          } else {\n            throw this.usageError();\n          }\n        }\n\n        args.push(pkg.name);\n      }\n    }\n\n    const opts = { ...this.npm.flatOptions,\n      path,\n      rm: args,\n      workspaces: this.workspaceNames\n    };\n    const arb = new Arborist(opts);\n    await arb.reify(opts);\n    await reifyFinish(this.npm, arb);\n  }\n\n}\n\nmodule.exports = Uninstall;","map":{"version":3,"names":["resolve","require","Arborist","rpj","reifyFinish","completion","ArboristWorkspaceCmd","Uninstall","description","name","params","usage","ignoreImplicitWorkspace","opts","npm","exec","args","path","global","globalDir","localPrefix","length","Error","pkg","er","code","usageError","push","flatOptions","rm","workspaces","workspaceNames","arb","reify","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/lib/commands/uninstall.js"],"sourcesContent":["const { resolve } = require('path')\nconst Arborist = require('@npmcli/arborist')\nconst rpj = require('read-package-json-fast')\n\nconst reifyFinish = require('../utils/reify-finish.js')\nconst completion = require('../utils/completion/installed-shallow.js')\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js')\nclass Uninstall extends ArboristWorkspaceCmd {\n  static description = 'Remove a package'\n  static name = 'uninstall'\n  static params = ['save', ...super.params]\n  static usage = ['[<@scope>/]<pkg>...']\n  static ignoreImplicitWorkspace = false\n\n  // TODO\n  /* istanbul ignore next */\n  async completion (opts) {\n    return completion(this.npm, opts)\n  }\n\n  async exec (args) {\n    // the /path/to/node_modules/..\n    const path = this.npm.global\n      ? resolve(this.npm.globalDir, '..')\n      : this.npm.localPrefix\n\n    if (!args.length) {\n      if (!this.npm.global) {\n        throw new Error('Must provide a package name to remove')\n      } else {\n        let pkg\n\n        try {\n          pkg = await rpj(resolve(this.npm.localPrefix, 'package.json'))\n        } catch (er) {\n          if (er.code !== 'ENOENT' && er.code !== 'ENOTDIR') {\n            throw er\n          } else {\n            throw this.usageError()\n          }\n        }\n\n        args.push(pkg.name)\n      }\n    }\n\n    const opts = {\n      ...this.npm.flatOptions,\n      path,\n      rm: args,\n      workspaces: this.workspaceNames,\n    }\n    const arb = new Arborist(opts)\n    await arb.reify(opts)\n    await reifyFinish(this.npm, arb)\n  }\n}\nmodule.exports = Uninstall\n"],"mappings":"AAAA,MAAM;EAAEA;AAAF,IAAcC,OAAO,CAAC,MAAD,CAA3B;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,kBAAD,CAAxB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,wBAAD,CAAnB;;AAEA,MAAMG,WAAW,GAAGH,OAAO,CAAC,0BAAD,CAA3B;;AACA,MAAMI,UAAU,GAAGJ,OAAO,CAAC,0CAAD,CAA1B;;AAEA,MAAMK,oBAAoB,GAAGL,OAAO,CAAC,oBAAD,CAApC;;AACA,MAAMM,SAAN,SAAwBD,oBAAxB,CAA6C;EACzB,OAAXE,WAAW,GAAG,kBAAH;EACP,OAAJC,IAAI,GAAG,WAAH;EACE,OAANC,MAAM,GAAG,CAAC,MAAD,EAAS,GAAG,MAAMA,MAAlB,CAAH;EACD,OAALC,KAAK,GAAG,CAAC,qBAAD,CAAH;EACkB,OAAvBC,uBAAuB,GAAG,KAAH,CALa,CAO3C;;EACA;;EACgB,MAAVP,UAAU,CAAEQ,IAAF,EAAQ;IACtB,OAAOR,UAAU,CAAC,KAAKS,GAAN,EAAWD,IAAX,CAAjB;EACD;;EAES,MAAJE,IAAI,CAAEC,IAAF,EAAQ;IAChB;IACA,MAAMC,IAAI,GAAG,KAAKH,GAAL,CAASI,MAAT,GACTlB,OAAO,CAAC,KAAKc,GAAL,CAASK,SAAV,EAAqB,IAArB,CADE,GAET,KAAKL,GAAL,CAASM,WAFb;;IAIA,IAAI,CAACJ,IAAI,CAACK,MAAV,EAAkB;MAChB,IAAI,CAAC,KAAKP,GAAL,CAASI,MAAd,EAAsB;QACpB,MAAM,IAAII,KAAJ,CAAU,uCAAV,CAAN;MACD,CAFD,MAEO;QACL,IAAIC,GAAJ;;QAEA,IAAI;UACFA,GAAG,GAAG,MAAMpB,GAAG,CAACH,OAAO,CAAC,KAAKc,GAAL,CAASM,WAAV,EAAuB,cAAvB,CAAR,CAAf;QACD,CAFD,CAEE,OAAOI,EAAP,EAAW;UACX,IAAIA,EAAE,CAACC,IAAH,KAAY,QAAZ,IAAwBD,EAAE,CAACC,IAAH,KAAY,SAAxC,EAAmD;YACjD,MAAMD,EAAN;UACD,CAFD,MAEO;YACL,MAAM,KAAKE,UAAL,EAAN;UACD;QACF;;QAEDV,IAAI,CAACW,IAAL,CAAUJ,GAAG,CAACd,IAAd;MACD;IACF;;IAED,MAAMI,IAAI,GAAG,EACX,GAAG,KAAKC,GAAL,CAASc,WADD;MAEXX,IAFW;MAGXY,EAAE,EAAEb,IAHO;MAIXc,UAAU,EAAE,KAAKC;IAJN,CAAb;IAMA,MAAMC,GAAG,GAAG,IAAI9B,QAAJ,CAAaW,IAAb,CAAZ;IACA,MAAMmB,GAAG,CAACC,KAAJ,CAAUpB,IAAV,CAAN;IACA,MAAMT,WAAW,CAAC,KAAKU,GAAN,EAAWkB,GAAX,CAAjB;EACD;;AAhD0C;;AAkD7CE,MAAM,CAACC,OAAP,GAAiB5B,SAAjB"},"metadata":{},"sourceType":"script"}