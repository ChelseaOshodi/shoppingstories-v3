{"ast":null,"code":"module.exports = cls => class Deduper extends cls {\n  async dedupe() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // allow the user to set options on the ctor as well.\n    // XXX: deprecate separate method options objects.\n    options = { ...this.options,\n      ...options\n    };\n    const tree = await this.loadVirtual().catch(() => this.loadActual());\n    const names = [];\n\n    for (const name of tree.inventory.query('name')) {\n      if (tree.inventory.query('name', name).size > 1) {\n        names.push(name);\n      }\n    }\n\n    return this.reify({ ...options,\n      preferDedupe: true,\n      update: {\n        names\n      }\n    });\n  }\n\n};","map":{"version":3,"names":["module","exports","cls","Deduper","dedupe","options","tree","loadVirtual","catch","loadActual","names","name","inventory","query","size","push","reify","preferDedupe","update"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/deduper.js"],"sourcesContent":["module.exports = cls => class Deduper extends cls {\n  async dedupe (options = {}) {\n    // allow the user to set options on the ctor as well.\n    // XXX: deprecate separate method options objects.\n    options = { ...this.options, ...options }\n    const tree = await this.loadVirtual().catch(() => this.loadActual())\n    const names = []\n    for (const name of tree.inventory.query('name')) {\n      if (tree.inventory.query('name', name).size > 1) {\n        names.push(name)\n      }\n    }\n    return this.reify({\n      ...options,\n      preferDedupe: true,\n      update: { names },\n    })\n  }\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,GAAG,IAAI,MAAMC,OAAN,SAAsBD,GAAtB,CAA0B;EACpC,MAANE,MAAM,GAAgB;IAAA,IAAdC,OAAc,uEAAJ,EAAI;IAC1B;IACA;IACAA,OAAO,GAAG,EAAE,GAAG,KAAKA,OAAV;MAAmB,GAAGA;IAAtB,CAAV;IACA,MAAMC,IAAI,GAAG,MAAM,KAAKC,WAAL,GAAmBC,KAAnB,CAAyB,MAAM,KAAKC,UAAL,EAA/B,CAAnB;IACA,MAAMC,KAAK,GAAG,EAAd;;IACA,KAAK,MAAMC,IAAX,IAAmBL,IAAI,CAACM,SAAL,CAAeC,KAAf,CAAqB,MAArB,CAAnB,EAAiD;MAC/C,IAAIP,IAAI,CAACM,SAAL,CAAeC,KAAf,CAAqB,MAArB,EAA6BF,IAA7B,EAAmCG,IAAnC,GAA0C,CAA9C,EAAiD;QAC/CJ,KAAK,CAACK,IAAN,CAAWJ,IAAX;MACD;IACF;;IACD,OAAO,KAAKK,KAAL,CAAW,EAChB,GAAGX,OADa;MAEhBY,YAAY,EAAE,IAFE;MAGhBC,MAAM,EAAE;QAAER;MAAF;IAHQ,CAAX,CAAP;EAKD;;AAjB+C,CAAlD"},"metadata":{},"sourceType":"script"}