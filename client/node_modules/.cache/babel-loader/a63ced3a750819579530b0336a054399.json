{"ast":null,"code":"'use strict';\n\nconst fetch = require('npm-registry-fetch');\n\nconst validate = require('aproba');\n\nconst eu = encodeURIComponent;\nconst cmd = module.exports = {};\n\ncmd.add = function (name, endpoint, secret) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  validate('SSSO', [name, endpoint, secret, opts]);\n  let type = 'package';\n\n  if (name.match(/^@[^/]+$/)) {\n    type = 'scope';\n  }\n\n  if (name[0] === '~') {\n    type = 'owner';\n    name = name.slice(1);\n  }\n\n  return fetch.json('/-/npm/v1/hooks/hook', { ...opts,\n    method: 'POST',\n    body: {\n      type,\n      name,\n      endpoint,\n      secret\n    }\n  });\n};\n\ncmd.rm = function (id) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validate('SO', [id, opts]);\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, { ...opts,\n    method: 'DELETE'\n  }).catch(err => {\n    if (err.code === 'E404') {\n      return null;\n    } else {\n      throw err;\n    }\n  });\n};\n\ncmd.update = function (id, endpoint, secret) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  validate('SSSO', [id, endpoint, secret, opts]);\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, { ...opts,\n    method: 'PUT',\n    body: {\n      endpoint,\n      secret\n    }\n  });\n};\n\ncmd.find = function (id) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validate('SO', [id, opts]);\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, opts);\n};\n\ncmd.ls = function () {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return cmd.ls.stream(opts).collect();\n};\n\ncmd.ls.stream = function () {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    package: pkg,\n    limit,\n    offset\n  } = opts;\n  validate('S|Z', [pkg]);\n  validate('N|Z', [limit]);\n  validate('N|Z', [offset]);\n  return fetch.json.stream('/-/npm/v1/hooks', 'objects.*', { ...opts,\n    query: {\n      package: pkg,\n      limit,\n      offset\n    }\n  });\n};","map":{"version":3,"names":["fetch","require","validate","eu","encodeURIComponent","cmd","module","exports","add","name","endpoint","secret","opts","type","match","slice","json","method","body","rm","id","catch","err","code","update","find","ls","stream","collect","package","pkg","limit","offset","query"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/node_modules/libnpmhook/lib/index.js"],"sourcesContent":["'use strict'\n\nconst fetch = require('npm-registry-fetch')\nconst validate = require('aproba')\n\nconst eu = encodeURIComponent\nconst cmd = module.exports = {}\ncmd.add = (name, endpoint, secret, opts = {}) => {\n  validate('SSSO', [name, endpoint, secret, opts])\n  let type = 'package'\n  if (name.match(/^@[^/]+$/)) {\n    type = 'scope'\n  }\n  if (name[0] === '~') {\n    type = 'owner'\n    name = name.slice(1)\n  }\n  return fetch.json('/-/npm/v1/hooks/hook', {\n    ...opts,\n    method: 'POST',\n    body: { type, name, endpoint, secret },\n  })\n}\n\ncmd.rm = (id, opts = {}) => {\n  validate('SO', [id, opts])\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, {\n    ...opts,\n    method: 'DELETE',\n  }).catch(err => {\n    if (err.code === 'E404') {\n      return null\n    } else {\n      throw err\n    }\n  })\n}\n\ncmd.update = (id, endpoint, secret, opts = {}) => {\n  validate('SSSO', [id, endpoint, secret, opts])\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, {\n    ...opts,\n    method: 'PUT',\n    body: { endpoint, secret },\n  })\n}\n\ncmd.find = (id, opts = {}) => {\n  validate('SO', [id, opts])\n  return fetch.json(`/-/npm/v1/hooks/hook/${eu(id)}`, opts)\n}\n\ncmd.ls = (opts = {}) => {\n  return cmd.ls.stream(opts).collect()\n}\n\ncmd.ls.stream = (opts = {}) => {\n  const { package: pkg, limit, offset } = opts\n  validate('S|Z', [pkg])\n  validate('N|Z', [limit])\n  validate('N|Z', [offset])\n  return fetch.json.stream('/-/npm/v1/hooks', 'objects.*', {\n    ...opts,\n    query: {\n      package: pkg,\n      limit,\n      offset,\n    },\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}