{"ast":null,"code":"const path = require('path');\n\nconst Arborist = require('@npmcli/arborist');\n\nconst log = require('../utils/log-shim.js');\n\nconst reifyFinish = require('../utils/reify-finish.js');\n\nconst completion = require('../utils/completion/installed-deep.js');\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js');\n\nclass Update extends ArboristWorkspaceCmd {\n  static description = 'Update packages';\n  static name = 'update';\n  static params = ['save', 'global', 'global-style', 'legacy-bundling', 'omit', 'strict-peer-deps', 'package-lock', 'foreground-scripts', 'ignore-scripts', 'audit', 'bin-links', 'fund', 'dry-run', ...super.params];\n  static usage = ['[<pkg>...]']; // TODO\n\n  /* istanbul ignore next */\n\n  async completion(opts) {\n    return completion(this.npm, opts);\n  }\n\n  async exec(args) {\n    const update = args.length === 0 ? true : args;\n    const global = path.resolve(this.npm.globalDir, '..');\n    const where = this.npm.global ? global : this.npm.prefix; // In the context of `npm update` the save\n    // config value should default to `false`\n\n    const save = this.npm.config.isDefault('save') ? false : this.npm.config.get('save');\n\n    if (this.npm.config.get('depth')) {\n      log.warn('update', 'The --depth option no longer has any effect. See RFC0019.\\n' + 'https://github.com/npm/rfcs/blob/latest/implemented/0019-remove-update-depth-option.md');\n    }\n\n    const opts = { ...this.npm.flatOptions,\n      path: where,\n      save,\n      workspaces: this.workspaceNames\n    };\n    const arb = new Arborist(opts);\n    await arb.reify({ ...opts,\n      update\n    });\n    await reifyFinish(this.npm, arb);\n  }\n\n}\n\nmodule.exports = Update;","map":{"version":3,"names":["path","require","Arborist","log","reifyFinish","completion","ArboristWorkspaceCmd","Update","description","name","params","usage","opts","npm","exec","args","update","length","global","resolve","globalDir","where","prefix","save","config","isDefault","get","warn","flatOptions","workspaces","workspaceNames","arb","reify","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/lib/commands/update.js"],"sourcesContent":["const path = require('path')\n\nconst Arborist = require('@npmcli/arborist')\nconst log = require('../utils/log-shim.js')\n\nconst reifyFinish = require('../utils/reify-finish.js')\nconst completion = require('../utils/completion/installed-deep.js')\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js')\nclass Update extends ArboristWorkspaceCmd {\n  static description = 'Update packages'\n  static name = 'update'\n\n  static params = [\n    'save',\n    'global',\n    'global-style',\n    'legacy-bundling',\n    'omit',\n    'strict-peer-deps',\n    'package-lock',\n    'foreground-scripts',\n    'ignore-scripts',\n    'audit',\n    'bin-links',\n    'fund',\n    'dry-run',\n    ...super.params,\n  ]\n\n  static usage = ['[<pkg>...]']\n\n  // TODO\n  /* istanbul ignore next */\n  async completion (opts) {\n    return completion(this.npm, opts)\n  }\n\n  async exec (args) {\n    const update = args.length === 0 ? true : args\n    const global = path.resolve(this.npm.globalDir, '..')\n    const where = this.npm.global\n      ? global\n      : this.npm.prefix\n\n    // In the context of `npm update` the save\n    // config value should default to `false`\n    const save = this.npm.config.isDefault('save')\n      ? false\n      : this.npm.config.get('save')\n\n    if (this.npm.config.get('depth')) {\n      log.warn('update', 'The --depth option no longer has any effect. See RFC0019.\\n' +\n        'https://github.com/npm/rfcs/blob/latest/implemented/0019-remove-update-depth-option.md')\n    }\n\n    const opts = {\n      ...this.npm.flatOptions,\n      path: where,\n      save,\n      workspaces: this.workspaceNames,\n    }\n    const arb = new Arborist(opts)\n\n    await arb.reify({ ...opts, update })\n    await reifyFinish(this.npm, arb)\n  }\n}\nmodule.exports = Update\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,kBAAD,CAAxB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,sBAAD,CAAnB;;AAEA,MAAMG,WAAW,GAAGH,OAAO,CAAC,0BAAD,CAA3B;;AACA,MAAMI,UAAU,GAAGJ,OAAO,CAAC,uCAAD,CAA1B;;AAEA,MAAMK,oBAAoB,GAAGL,OAAO,CAAC,oBAAD,CAApC;;AACA,MAAMM,MAAN,SAAqBD,oBAArB,CAA0C;EACtB,OAAXE,WAAW,GAAG,iBAAH;EACP,OAAJC,IAAI,GAAG,QAAH;EAEE,OAANC,MAAM,GAAG,CACd,MADc,EAEd,QAFc,EAGd,cAHc,EAId,iBAJc,EAKd,MALc,EAMd,kBANc,EAOd,cAPc,EAQd,oBARc,EASd,gBATc,EAUd,OAVc,EAWd,WAXc,EAYd,MAZc,EAad,SAbc,EAcd,GAAG,MAAMA,MAdK,CAAH;EAiBD,OAALC,KAAK,GAAG,CAAC,YAAD,CAAH,CArB4B,CAuBxC;;EACA;;EACgB,MAAVN,UAAU,CAAEO,IAAF,EAAQ;IACtB,OAAOP,UAAU,CAAC,KAAKQ,GAAN,EAAWD,IAAX,CAAjB;EACD;;EAES,MAAJE,IAAI,CAAEC,IAAF,EAAQ;IAChB,MAAMC,MAAM,GAAGD,IAAI,CAACE,MAAL,KAAgB,CAAhB,GAAoB,IAApB,GAA2BF,IAA1C;IACA,MAAMG,MAAM,GAAGlB,IAAI,CAACmB,OAAL,CAAa,KAAKN,GAAL,CAASO,SAAtB,EAAiC,IAAjC,CAAf;IACA,MAAMC,KAAK,GAAG,KAAKR,GAAL,CAASK,MAAT,GACVA,MADU,GAEV,KAAKL,GAAL,CAASS,MAFb,CAHgB,CAOhB;IACA;;IACA,MAAMC,IAAI,GAAG,KAAKV,GAAL,CAASW,MAAT,CAAgBC,SAAhB,CAA0B,MAA1B,IACT,KADS,GAET,KAAKZ,GAAL,CAASW,MAAT,CAAgBE,GAAhB,CAAoB,MAApB,CAFJ;;IAIA,IAAI,KAAKb,GAAL,CAASW,MAAT,CAAgBE,GAAhB,CAAoB,OAApB,CAAJ,EAAkC;MAChCvB,GAAG,CAACwB,IAAJ,CAAS,QAAT,EAAmB,gEACjB,wFADF;IAED;;IAED,MAAMf,IAAI,GAAG,EACX,GAAG,KAAKC,GAAL,CAASe,WADD;MAEX5B,IAAI,EAAEqB,KAFK;MAGXE,IAHW;MAIXM,UAAU,EAAE,KAAKC;IAJN,CAAb;IAMA,MAAMC,GAAG,GAAG,IAAI7B,QAAJ,CAAaU,IAAb,CAAZ;IAEA,MAAMmB,GAAG,CAACC,KAAJ,CAAU,EAAE,GAAGpB,IAAL;MAAWI;IAAX,CAAV,CAAN;IACA,MAAMZ,WAAW,CAAC,KAAKS,GAAN,EAAWkB,GAAX,CAAjB;EACD;;AAzDuC;;AA2D1CE,MAAM,CAACC,OAAP,GAAiB3B,MAAjB"},"metadata":{},"sourceType":"script"}