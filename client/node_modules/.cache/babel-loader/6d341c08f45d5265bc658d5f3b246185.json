{"ast":null,"code":"module.exports = read;\n\nvar readline = require('readline');\n\nvar Mute = require('mute-stream');\n\nfunction read(opts, cb) {\n  if (opts.num) {\n    throw new Error('read() no longer accepts a char number limit');\n  }\n\n  if (typeof opts.default !== 'undefined' && typeof opts.default !== 'string' && typeof opts.default !== 'number') {\n    throw new Error('default value must be string or number');\n  }\n\n  var input = opts.input || process.stdin;\n  var output = opts.output || process.stdout;\n  var prompt = (opts.prompt || '').trim() + ' ';\n  var silent = opts.silent;\n  var editDef = false;\n  var timeout = opts.timeout;\n  var def = opts.default || '';\n\n  if (def) {\n    if (silent) {\n      prompt += '(<default hidden>) ';\n    } else if (opts.edit) {\n      editDef = true;\n    } else {\n      prompt += '(' + def + ') ';\n    }\n  }\n\n  var terminal = !!(opts.terminal || output.isTTY);\n  var m = new Mute({\n    replace: opts.replace,\n    prompt: prompt\n  });\n  m.pipe(output, {\n    end: false\n  });\n  output = m;\n  var rlOpts = {\n    input: input,\n    output: output,\n    terminal: terminal\n  };\n\n  if (process.version.match(/^v0\\.6/)) {\n    var rl = readline.createInterface(rlOpts.input, rlOpts.output);\n  } else {\n    var rl = readline.createInterface(rlOpts);\n  }\n\n  output.unmute();\n  rl.setPrompt(prompt);\n  rl.prompt();\n\n  if (silent) {\n    output.mute();\n  } else if (editDef) {\n    rl.line = def;\n    rl.cursor = def.length;\n\n    rl._refreshLine();\n  }\n\n  var called = false;\n  rl.on('line', onLine);\n  rl.on('error', onError);\n  rl.on('SIGINT', function () {\n    rl.close();\n    onError(new Error('canceled'));\n  });\n  var timer;\n\n  if (timeout) {\n    timer = setTimeout(function () {\n      onError(new Error('timed out'));\n    }, timeout);\n  }\n\n  function done() {\n    called = true;\n    rl.close();\n\n    if (process.version.match(/^v0\\.6/)) {\n      rl.input.removeAllListeners('data');\n      rl.input.removeAllListeners('keypress');\n      rl.input.pause();\n    }\n\n    clearTimeout(timer);\n    output.mute();\n    output.end();\n  }\n\n  function onError(er) {\n    if (called) return;\n    done();\n    return cb(er);\n  }\n\n  function onLine(line) {\n    if (called) return;\n\n    if (silent && terminal) {\n      output.unmute();\n      output.write('\\r\\n');\n    }\n\n    done(); // truncate the \\n at the end.\n\n    line = line.replace(/\\r?\\n$/, '');\n    var isDefault = !!(editDef && line === def);\n\n    if (def && !line) {\n      isDefault = true;\n      line = def;\n    }\n\n    cb(null, line, isDefault);\n  }\n}","map":{"version":3,"names":["module","exports","read","readline","require","Mute","opts","cb","num","Error","default","input","process","stdin","output","stdout","prompt","trim","silent","editDef","timeout","def","edit","terminal","isTTY","m","replace","pipe","end","rlOpts","version","match","rl","createInterface","unmute","setPrompt","mute","line","cursor","length","_refreshLine","called","on","onLine","onError","close","timer","setTimeout","done","removeAllListeners","pause","clearTimeout","er","write","isDefault"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/node_modules/read/lib/read.js"],"sourcesContent":["\nmodule.exports = read\n\nvar readline = require('readline')\nvar Mute = require('mute-stream')\n\nfunction read (opts, cb) {\n  if (opts.num) {\n    throw new Error('read() no longer accepts a char number limit')\n  }\n\n  if (typeof opts.default !== 'undefined' &&\n      typeof opts.default !== 'string' &&\n      typeof opts.default !== 'number') {\n    throw new Error('default value must be string or number')\n  }\n\n  var input = opts.input || process.stdin\n  var output = opts.output || process.stdout\n  var prompt = (opts.prompt || '').trim() + ' '\n  var silent = opts.silent\n  var editDef = false\n  var timeout = opts.timeout\n\n  var def = opts.default || ''\n  if (def) {\n    if (silent) {\n      prompt += '(<default hidden>) '\n    } else if (opts.edit) {\n      editDef = true\n    } else {\n      prompt += '(' + def + ') '\n    }\n  }\n  var terminal = !!(opts.terminal || output.isTTY)\n\n  var m = new Mute({ replace: opts.replace, prompt: prompt })\n  m.pipe(output, {end: false})\n  output = m\n  var rlOpts = { input: input, output: output, terminal: terminal }\n\n  if (process.version.match(/^v0\\.6/)) {\n    var rl = readline.createInterface(rlOpts.input, rlOpts.output)\n  } else {\n    var rl = readline.createInterface(rlOpts)\n  }\n\n\n  output.unmute()\n  rl.setPrompt(prompt)\n  rl.prompt()\n  if (silent) {\n    output.mute()\n  } else if (editDef) {\n    rl.line = def\n    rl.cursor = def.length\n    rl._refreshLine()\n  }\n\n  var called = false\n  rl.on('line', onLine)\n  rl.on('error', onError)\n\n  rl.on('SIGINT', function () {\n    rl.close()\n    onError(new Error('canceled'))\n  })\n\n  var timer\n  if (timeout) {\n    timer = setTimeout(function () {\n      onError(new Error('timed out'))\n    }, timeout)\n  }\n\n  function done () {\n    called = true\n    rl.close()\n\n    if (process.version.match(/^v0\\.6/)) {\n      rl.input.removeAllListeners('data')\n      rl.input.removeAllListeners('keypress')\n      rl.input.pause()\n    }\n\n    clearTimeout(timer)\n    output.mute()\n    output.end()\n  }\n\n  function onError (er) {\n    if (called) return\n    done()\n    return cb(er)\n  }\n\n  function onLine (line) {\n    if (called) return\n    if (silent && terminal) {\n      output.unmute()\n      output.write('\\r\\n')\n    }\n    done()\n    // truncate the \\n at the end.\n    line = line.replace(/\\r?\\n$/, '')\n    var isDefault = !!(editDef && line === def)\n    if (def && !line) {\n      isDefault = true\n      line = def\n    }\n    cb(null, line, isDefault)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}