{"ast":null,"code":"// dedupe duplicated packages, or find them in the tree\nconst Arborist = require('@npmcli/arborist');\n\nconst reifyFinish = require('../utils/reify-finish.js');\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js');\n\nclass Dedupe extends ArboristWorkspaceCmd {\n  static description = 'Reduce duplication in the package tree';\n  static name = 'dedupe';\n  static params = ['global-style', 'legacy-bundling', 'strict-peer-deps', 'package-lock', 'omit', 'ignore-scripts', 'audit', 'bin-links', 'fund', 'dry-run', ...super.params];\n\n  async exec(args) {\n    if (this.npm.global) {\n      const er = new Error('`npm dedupe` does not work in global mode.');\n      er.code = 'EDEDUPEGLOBAL';\n      throw er;\n    }\n\n    const dryRun = this.npm.config.get('dry-run');\n    const where = this.npm.prefix;\n    const opts = { ...this.npm.flatOptions,\n      path: where,\n      dryRun,\n      // Saving during dedupe would only update if one of your direct\n      // dependencies was also duplicated somewhere in your tree. It would be\n      // confusing if running this were to also update your package.json.  In\n      // order to reduce potential confusion we set this to false.\n      save: false,\n      workspaces: this.workspaceNames\n    };\n    const arb = new Arborist(opts);\n    await arb.dedupe(opts);\n    await reifyFinish(this.npm, arb);\n  }\n\n}\n\nmodule.exports = Dedupe;","map":{"version":3,"names":["Arborist","require","reifyFinish","ArboristWorkspaceCmd","Dedupe","description","name","params","exec","args","npm","global","er","Error","code","dryRun","config","get","where","prefix","opts","flatOptions","path","save","workspaces","workspaceNames","arb","dedupe","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/lib/commands/dedupe.js"],"sourcesContent":["// dedupe duplicated packages, or find them in the tree\nconst Arborist = require('@npmcli/arborist')\nconst reifyFinish = require('../utils/reify-finish.js')\n\nconst ArboristWorkspaceCmd = require('../arborist-cmd.js')\n\nclass Dedupe extends ArboristWorkspaceCmd {\n  static description = 'Reduce duplication in the package tree'\n  static name = 'dedupe'\n  static params = [\n    'global-style',\n    'legacy-bundling',\n    'strict-peer-deps',\n    'package-lock',\n    'omit',\n    'ignore-scripts',\n    'audit',\n    'bin-links',\n    'fund',\n    'dry-run',\n    ...super.params,\n  ]\n\n  async exec (args) {\n    if (this.npm.global) {\n      const er = new Error('`npm dedupe` does not work in global mode.')\n      er.code = 'EDEDUPEGLOBAL'\n      throw er\n    }\n\n    const dryRun = this.npm.config.get('dry-run')\n    const where = this.npm.prefix\n    const opts = {\n      ...this.npm.flatOptions,\n      path: where,\n      dryRun,\n      // Saving during dedupe would only update if one of your direct\n      // dependencies was also duplicated somewhere in your tree. It would be\n      // confusing if running this were to also update your package.json.  In\n      // order to reduce potential confusion we set this to false.\n      save: false,\n      workspaces: this.workspaceNames,\n    }\n    const arb = new Arborist(opts)\n    await arb.dedupe(opts)\n    await reifyFinish(this.npm, arb)\n  }\n}\n\nmodule.exports = Dedupe\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,kBAAD,CAAxB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,0BAAD,CAA3B;;AAEA,MAAME,oBAAoB,GAAGF,OAAO,CAAC,oBAAD,CAApC;;AAEA,MAAMG,MAAN,SAAqBD,oBAArB,CAA0C;EACtB,OAAXE,WAAW,GAAG,wCAAH;EACP,OAAJC,IAAI,GAAG,QAAH;EACE,OAANC,MAAM,GAAG,CACd,cADc,EAEd,iBAFc,EAGd,kBAHc,EAId,cAJc,EAKd,MALc,EAMd,gBANc,EAOd,OAPc,EAQd,WARc,EASd,MATc,EAUd,SAVc,EAWd,GAAG,MAAMA,MAXK,CAAH;;EAcH,MAAJC,IAAI,CAAEC,IAAF,EAAQ;IAChB,IAAI,KAAKC,GAAL,CAASC,MAAb,EAAqB;MACnB,MAAMC,EAAE,GAAG,IAAIC,KAAJ,CAAU,4CAAV,CAAX;MACAD,EAAE,CAACE,IAAH,GAAU,eAAV;MACA,MAAMF,EAAN;IACD;;IAED,MAAMG,MAAM,GAAG,KAAKL,GAAL,CAASM,MAAT,CAAgBC,GAAhB,CAAoB,SAApB,CAAf;IACA,MAAMC,KAAK,GAAG,KAAKR,GAAL,CAASS,MAAvB;IACA,MAAMC,IAAI,GAAG,EACX,GAAG,KAAKV,GAAL,CAASW,WADD;MAEXC,IAAI,EAAEJ,KAFK;MAGXH,MAHW;MAIX;MACA;MACA;MACA;MACAQ,IAAI,EAAE,KARK;MASXC,UAAU,EAAE,KAAKC;IATN,CAAb;IAWA,MAAMC,GAAG,GAAG,IAAI1B,QAAJ,CAAaoB,IAAb,CAAZ;IACA,MAAMM,GAAG,CAACC,MAAJ,CAAWP,IAAX,CAAN;IACA,MAAMlB,WAAW,CAAC,KAAKQ,GAAN,EAAWgB,GAAX,CAAjB;EACD;;AAxCuC;;AA2C1CE,MAAM,CAACC,OAAP,GAAiBzB,MAAjB"},"metadata":{},"sourceType":"script"}