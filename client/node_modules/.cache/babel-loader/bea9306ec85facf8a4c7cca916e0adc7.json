{"ast":null,"code":"const crypto = require('crypto');\n\nconst {\n  dirname,\n  basename,\n  resolve\n} = require('path'); // use sha1 because it's faster, and collisions extremely unlikely anyway\n\n\nconst pathSafeHash = s => crypto.createHash('sha1').update(s).digest('base64').replace(/[^a-zA-Z0-9]+/g, '').slice(0, 8);\n\nconst retirePath = from => {\n  const d = dirname(from);\n  const b = basename(from);\n  const hash = pathSafeHash(from);\n  return resolve(d, `.${b}-${hash}`);\n};\n\nmodule.exports = retirePath;","map":{"version":3,"names":["crypto","require","dirname","basename","resolve","pathSafeHash","s","createHash","update","digest","replace","slice","retirePath","from","d","b","hash","module","exports"],"sources":["/Users/chelsea/Documents/0_AllCoding/shoppingstories-v3/node_modules/npm/node_modules/@npmcli/arborist/lib/retire-path.js"],"sourcesContent":["const crypto = require('crypto')\nconst { dirname, basename, resolve } = require('path')\n\n// use sha1 because it's faster, and collisions extremely unlikely anyway\nconst pathSafeHash = s =>\n  crypto.createHash('sha1')\n    .update(s)\n    .digest('base64')\n    .replace(/[^a-zA-Z0-9]+/g, '')\n    .slice(0, 8)\n\nconst retirePath = from => {\n  const d = dirname(from)\n  const b = basename(from)\n  const hash = pathSafeHash(from)\n  return resolve(d, `.${b}-${hash}`)\n}\n\nmodule.exports = retirePath\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAM;EAAEC,OAAF;EAAWC,QAAX;EAAqBC;AAArB,IAAiCH,OAAO,CAAC,MAAD,CAA9C,C,CAEA;;;AACA,MAAMI,YAAY,GAAGC,CAAC,IACpBN,MAAM,CAACO,UAAP,CAAkB,MAAlB,EACGC,MADH,CACUF,CADV,EAEGG,MAFH,CAEU,QAFV,EAGGC,OAHH,CAGW,gBAHX,EAG6B,EAH7B,EAIGC,KAJH,CAIS,CAJT,EAIY,CAJZ,CADF;;AAOA,MAAMC,UAAU,GAAGC,IAAI,IAAI;EACzB,MAAMC,CAAC,GAAGZ,OAAO,CAACW,IAAD,CAAjB;EACA,MAAME,CAAC,GAAGZ,QAAQ,CAACU,IAAD,CAAlB;EACA,MAAMG,IAAI,GAAGX,YAAY,CAACQ,IAAD,CAAzB;EACA,OAAOT,OAAO,CAACU,CAAD,EAAK,IAAGC,CAAE,IAAGC,IAAK,EAAlB,CAAd;AACD,CALD;;AAOAC,MAAM,CAACC,OAAP,GAAiBN,UAAjB"},"metadata":{},"sourceType":"script"}